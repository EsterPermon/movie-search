(()=>{"use strict";const e=async(e,a,t)=>(await fetch("".concat("https://www.omdbapi.com/","?apikey=").concat("8ea39b15","&type=").concat(a,"&s=").concat(e,"&page=").concat(t))).json();onmessage=async e=>{const{type:t,payload:s}=e.data;switch(t){case"searchMedias":try{const e=await a(s.term,s.type),t=Math.floor((null===e||void 0===e?void 0:e.length)/20)+1;postMessage({type:"allMedias",payload:{allMediasSorted:e,totalPages:t}})}catch(o){o instanceof Error&&postMessage({type:"error",payload:o.message})}break;case"loadPage":{const e=r(s.currentPage,s.allMediasSorted);postMessage({type:"pageMedias",payload:e});break}}};const a=async(a,s)=>{const o=await e(a,s,1);if("True"===o.Response){const e=parseInt(o.totalResults),r=Math.floor(e/10)+1;return t(r,a,s)}throw new Error(o.Error)},t=async(a,t,s)=>{const r=[];for(let o=1;o<=a;o++){const a=await e(t,s,o);if("True"===a.Response){const e=(null===a||void 0===a?void 0:a.Search)||[];r.push(...e)}}return r.sort(o)},s=e=>e.slice(0,4),o=(e,a)=>{const t=s(e.Year),o=s(a.Year);return t===o?e.Title<a.Title?-1:1:t>o?-1:1},r=(e,a)=>{const t=20*(e-1),s=t+20,o=a.slice(t,s);return c(o)},c=e=>null===e||void 0===e?void 0:e.reduce(((e,a)=>{const t=s(a.Year),o=null===a||void 0===a?void 0:a.imdbID;return e[t]||(e[t]={}),e[t][o]=a,e}),{})})();
//# sourceMappingURL=160.0d8f8439.chunk.js.map